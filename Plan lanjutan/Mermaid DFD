graph LR
    %% Definisi Styling untuk Membedakan Komponen
    classDef external fill:#f9f,stroke:#333,stroke-width:2px;
    classDef process fill:#bbf,stroke:#333,stroke-width:2px;
    classDef datastore fill:#fbf,stroke:#333,stroke-width:2px;

    %% External Entities
    Technician[Technician]:::external
    Manager[Manager]:::external
    Admin[Admin]:::external
    QRScanner[QR Scanner]:::external

    %% Data Stores
    DS1[Users]:::datastore
    DS2[Divisions]:::datastore
    DS3[Assets]:::datastore
    DS4[Asset_QR_Codes]:::datastore
    DS5[Checklists]:::datastore
    DS6[Checklist_Items]:::datastore
    DS7[Checklist_Templates]:::datastore
    DS8[Audit_Logs]:::datastore
    DS9[Statuses]:::datastore
    DS10[Floors]:::datastore
    DS11[Asset_Types]:::datastore

    %% Proses
    P1[Authentication]:::process
    P2[User Management]:::process
    P3[Asset Management]:::process
    P4[QR Code Management]:::process
    P5[Maintenance Scheduling]:::process
    P6[Checklist Management]:::process
    P7[Reporting]:::process
    P8[Audit Logging]:::process

    %% Pengaturan Layout Menggunakan Subgraphs untuk Kelompokkan Proses dan Data Stores
    subgraph Authentication_Process
        Technician -->|Login Credentials| P1
        P1 -->|Authentication Token| Technician
        P1 -->|Fetch User Data| DS1
        DS1 --> P1
    end

    subgraph User_Management_Process
        Admin -->|Manage Users| P2
        P2 -->|CRUD Operations| DS1
        DS1 --> P2
        P2 -->|Division Data| DS2
        DS2 --> P2
    end

    subgraph Asset_Management_Process
        Manager -->|Create/Update Asset| P3
        P3 -->|Asset Data| DS3
        DS3 --> P3
        P3 -->|Asset Type| DS11
        DS11 --> P3
        P3 -->|Floor Data| DS10
        DS10 --> P3
        P3 -->|Status Data| DS9
        DS9 --> P3
    end

    subgraph QR_Code_Process
        Technician -->|Scan QR Code| QRScanner
        QRScanner -->|QR Data| P4
        P4 -->|Decode QR| DS4
        DS4 --> P4
        P4 -->|Fetch Asset| DS3
        DS3 --> P4
        P4 -->|Asset Identification| Technician
    end

    subgraph Maintenance_Scheduling_Process
        P4 -->|Identify Asset| P5
        P5 -->|Create Checklist| DS5
        DS5 --> P5
        P5 -->|Template Data| DS7
        DS7 --> P5
    end

    subgraph Checklist_Management_Process
        P5 -->|Assign Checklist| Technician
        Technician -->|Complete Checklist| P6
        P6 -->|Update Checklist Items| DS6
        DS6 --> P6
        P6 -->|Update Asset Status| DS3
        DS3 --> P6
        P6 -->|Log Maintenance| P8
        P8 -->|Store Audit Log| DS8
        DS8 --> P8
    end

    subgraph Reporting_Process
        Manager -->|Request Reports| P7
        P7 -->|Fetch Data| DS5
        P7 -->|Fetch Data| DS6
        P7 -->|Fetch Data| DS3
        P7 -->|Generate Report| Manager
    end

    %% Audit Logging dari Berbagai Proses
    P1 -->|Log Authentication| P8
    P2 -->|Log User Management| P8
    P3 -->|Log Asset Management| P8
    P4 -->|Log QR Scanning| P8
    P5 -->|Log Maintenance Scheduling| P8
    P6 -->|Log Checklist Completion| P8
    P7 -->|Log Reporting| P8

    %% Hubungan antar Subgraphs
    %% Tidak perlu hubungan tambahan karena sudah diatur dalam subgraphs


